---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import "../../../styles/pages/water-damage.css";
import "@fortawesome/fontawesome-free/css/all.min.css";
import FAQ from "../../AcordeonServices";
import RestorationCTA from "../../RestorationCTA";
import "../../../styles/global.css";

const { group, sub } = Astro.props;

// Contenido específico para water damage basado en el subservicio
const getWaterContent = (subSlug) => {
  const waterContent = {
    "water-damage": {
      hero: {
        title: "Water Damage? We Remove, Dry & Restore",
        description: "Fast water extraction, moisture control, and structural drying to prevent mold and further damage. Serving Orlando, Miami, Tampa & beyond.",
        cta: "Free Water Damage Assessment",
        bgImage: "/images/herowater.jpg"
      },
      services: [
        { icon: "fas fa-water", title: "Flood Damage", description: "Emergency flood cleanup and water extraction", slug: "flood-damage", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-wrench", title: "Leak Repair", description: "Fix burst pipes and hidden leaks", slug: "leak-repair", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-home", title: "Basement Flooding", description: "Basement water removal and drying", slug: "basement-flooding", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-ceiling-fan", title: "Ceiling Water Damage", description: "Ceiling leak repair and restoration", slug: "ceiling-water-damage", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-tint", title: "Emergency Water Removal", description: "24/7 rapid water extraction", slug: "emergency-water-removal", image: "/images/waterDamage.jpg" }
      ],
      faqs: [
        { q: "What is water damage restoration?", a: "Water damage restoration is the process of cleaning, drying, and repairing property after water intrusion from floods, leaks, or storms." },
        { q: "How quickly should water damage restoration start?", a: "Ideally within 24 hours. Early extraction and drying reduce structural damage and the risk of mold growth." },
        { q: "What does the water damage process include?", a: "Our process includes: emergency inspection & moisture mapping, water extraction, cleaning & sanitizing, odor control, repairs, and finish restoration." },
        { q: "Do you handle floods, leaks, and burst pipes?", a: "Yes. We respond to storm flooding, appliance failures, roof leaks, slab leaks, and burst supply lines." }
      ],
      steps: [
        { title: "Emergency Call", text: "Free on-site inspection & moisture assessment", icon: "fas fa-phone" },
        { title: "Water Extraction", text: "Pumps & vacuums remove standing water", icon: "fas fa-tint" },
        { title: "Drying & Dehumidifying", text: "Air movers, dehumidifiers & moisture readings", icon: "fas fa-wind" },
        { title: "Cleaning & Repairs", text: "Sanitize, deodorize, and restore materials", icon: "fas fa-tools" }
      ]
    },
    "flood-damage": {
      hero: {
        title: "Flood Damage? We Extract Water & Restore Homes Across Florida",
        description: "Need flood cleanup fast? Our Florida teams provide 24/7 flood damage cleanup, including water extraction, drying, and mold prevention. We stop water damage before it spreads, protect your home's structure, and restore safety.",
        cta: "Start Flood Extraction Now",
        bgImage: "/images/waterDamage.jpg"
      },
      services: [
        { icon: "fas fa-tint", title: "Emergency Water Extraction", description: "Pumps and vacuums remove large volumes of water quickly.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-wind", title: "Industrial Drying", description: "Air movers and dehumidifiers dry walls, floors, and cavities.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-shield-alt", title: "Mold Prevention", description: "Antimicrobial treatments protect against bacteria and mold.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-tools", title: "Structural Stabilization", description: "Support for weakened ceilings, floors, and framing.", image: "/images/waterDamage.jpg" }
      ],
      faqs: [
        { q: "How long does flood cleanup take?", a: "Most properties dry within 2–5 days depending on water levels and building materials. Continuous monitoring ensures safe humidity levels before restoration begins." },
        { q: "Does insurance cover flood damage?", a: "Coverage varies—flooding from storms often requires separate flood insurance. Most policies cover sudden water events. We assist with documentation for your claim." },
        { q: "Can a flooded home be saved?", a: "Yes. With rapid extraction and drying, most structures can be stabilized and restored. Delays increase risks of mold and structural loss." },
        { q: "What should I do first after a flood?", a: "Stay safe, shut off electricity if needed, and call for emergency water removal. Avoid entering rooms with standing water." }
      ],
      steps: [
        { title: "Inspection & Moisture Mapping", text: "Identify visible and hidden flood damage", icon: "fas fa-search" },
        { title: "Rapid Water Extraction", text: "Remove standing floodwater using high-capacity pumps", icon: "fas fa-tint" },
        { title: "Drying & Dehumidification", text: "Stabilize humidity with industrial air movers", icon: "fas fa-wind" },
        { title: "Antimicrobial Treatment", text: "Protect walls, flooring, and furniture against mold", icon: "fas fa-shield-alt" },
        { title: "Ongoing Monitoring", text: "Daily moisture checks until drying is complete", icon: "fas fa-chart-line" }
      ]
    },
    "leak-repair": {
      hero: {
        title: "Stop Leaks Before They Cause Bigger Damage",
        description: "Whether it's a burst pipe, ceiling leak, or hidden water damage inside your walls, our Florida leak repair specialists act fast to protect your home or business. With 24/7 emergency response and advanced detection tools, we fix leaks before they become costly disasters.",
        cta: "Fix My Leak Now",
        bgImage: "/images/waterDamage.jpg"
      },
      services: [
        { icon: "fas fa-home", title: "Ceiling Leak Repair", description: "Repair water-damaged ceilings, replace drywall & insulation.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-wrench", title: "Pipe Leak Repair", description: "Fix burst, corroded, or leaking pipes to restore flow & safety.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-search", title: "Hidden Leak Detection", description: "Advanced tools locate leaks inside walls, floors, or basements.", image: "/images/waterDamage.jpg" }
      ],
      faqs: [
        { q: "How do I know if I have a hidden water leak?", a: "Signs include moldy odors, warped walls, and unexplained water bills. We use specialized tools to detect hidden leaks." },
        { q: "Can a ceiling leak cause mold?", a: "Yes. Within 24–48 hours, mold may develop on damp ceilings. Fast drying and repairs are essential." },
        { q: "Can leaking pipes be fixed without replacing everything?", a: "Often yes. We patch, seal, or replace sections of pipe depending on severity." },
        { q: "How long does leak repair take?", a: "Small leaks may be fixed same-day; larger or hidden leaks may take 2–3 days including drying and restoration." }
      ],
      steps: [
        { title: "Inspection & Leak Detection", text: "Thermal imaging & moisture meters find the source", icon: "fas fa-search" },
        { title: "Emergency Containment", text: "Stop water flow, prevent further damage", icon: "fas fa-stop" },
        { title: "Drying & Dehumidification", text: "Industrial air movers, dehumidifiers", icon: "fas fa-wind" },
        { title: "Repair & Restoration", text: "Pipes, drywall, ceilings, and flooring fixed", icon: "fas fa-tools" },
        { title: "Mold Prevention & Quality Check", text: "Antimicrobial treatment + testing", icon: "fas fa-check-circle" }
      ]
    },
    "basement-flooding": {
      hero: {
        title: "Basement Flooding? We Pump Out Water & Protect Your Foundation",
        description: "Is your basement underwater? Our Florida team provides 24/7 basement flooding cleanup, including pump-out, cavity drying, and mold prevention. We remove water fast, protect your foundation, and restore your property safely.",
        cta: "Protect Against Mold",
        bgImage: "/images/waterDamage.jpg"
      },
      services: [
        { icon: "fas fa-pump-soap", title: "Basement Pump-Out", description: "Rapid water evacuation with high-volume pumps.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-home", title: "Structural Drying", description: "Dry walls, subfloors, and insulation to protect the foundation.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-shield-alt", title: "Mold Prevention", description: "Apply treatments and humidity control to stop mold growth.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-chart-bar", title: "Moisture Monitoring", description: "Track safe drying progress with daily readings.", image: "/images/waterDamage.jpg" }
      ],
      faqs: [
        { q: "What causes basement flooding?", a: "Common causes include heavy rains, poor drainage, foundation cracks, burst pipes, or failed sump pumps." },
        { q: "Can a flooded basement be saved?", a: "Yes. With fast pump-out and drying, most basements can be restored. Delays increase risks of mold and foundation damage." },
        { q: "Do I need a sump pump installed?", a: "For flood-prone basements, a sump system with backup power is strongly recommended to prevent future flooding." },
        { q: "How long does basement drying take?", a: "Typically 2–5 days depending on water volume and humidity levels. Continuous monitoring ensures safe results." }
      ],
      steps: [
        { title: "Safety & Assessment", text: "Check for electrical hazards and structural risks before entry", icon: "fas fa-hard-hat" },
        { title: "Pump-Out & Water Removal", text: "High-capacity pumps quickly clear standing basement water", icon: "fas fa-pump-soap" },
        { title: "Cavity Drying", text: "Industrial dehumidifiers and air movers dry walls, flooring, and crawlspaces", icon: "fas fa-wind" },
        { title: "Humidity Control", text: "Stabilize indoor moisture levels to safe conditions", icon: "fas fa-thermometer-half" },
        { title: "Antimicrobial Treatment", text: "Apply disinfectants to prevent mold and bacteria growth", icon: "fas fa-spray-can" }
      ]
    },
    "ceiling-water-damage": {
      hero: {
        title: "Ceiling Leak or Water Stains? We Fix It Fast.",
        description: "From small leaks to major ceiling collapses, our Florida ceiling repair teams restore drywall, insulation, and finishes—stopping hidden mold before it spreads. With 24/7 emergency response and licensed specialists, we protect your home or business from water damage and ceiling collapse.",
        cta: "Schedule Ceiling Repair",
        bgImage: "/images/waterDamage.jpg"
      },
      services: [
        { icon: "fas fa-search", title: "Leak Source Repair", description: "Fix pipes, roof leaks, or AC condensation.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-hammer", title: "Drywall & Ceiling Replacement", description: "Remove & replace water-damaged sections.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-paint-roller", title: "Stain & Finish Restoration", description: "Prime, paint, and re-texture surfaces.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-shield-alt", title: "Mold Remediation", description: "Long-term protection against hidden growth.", image: "/images/waterDamage.jpg" }
      ],
      faqs: [
        { q: "How do I know if ceiling water damage is serious?", a: "Look for sagging, discoloration, musty odors, or peeling paint. These signal hidden water issues." },
        { q: "Can I just paint over ceiling stains?", a: "No. Without fixing the leak source, stains and mold will return." },
        { q: "How long does it take to repair ceiling water damage?", a: "Small repairs: 1–2 days. Major restoration: up to a week." },
        { q: "Can water-damaged ceilings collapse?", a: "Yes. Untreated damage weakens drywall & beams, raising collapse risk." }
      ],
      steps: [
        { title: "Inspection & Moisture Detection", text: "Thermal cameras to locate leaks", icon: "fas fa-camera" },
        { title: "Containment & Drying", text: "Industrial dehumidifiers & air movers", icon: "fas fa-wind" },
        { title: "Drywall & Insulation Replacement", text: "Remove damaged materials", icon: "fas fa-hammer" },
        { title: "Mold Prevention", text: "Antimicrobial treatments applied", icon: "fas fa-shield-alt" },
        { title: "Finish Restoration", text: "Paint, texture & restore ceiling", icon: "fas fa-paint-roller" }
      ]
    },
    "emergency-water-removal": {
      hero: {
        title: "Rapid Emergency Water Removal When Every Minute Counts",
        description: "Flooding, burst pipes, or storm intrusion can overwhelm your home or business in minutes. Our Florida emergency water removal teams respond 24/7 with industrial pumps, vacuums, and drying systems—eliminating standing water before it spreads.",
        cta: "Request Water Removal Now",
        bgImage: "/images/waterDamage.jpg"
      },
      services: [
        { icon: "fas fa-water", title: "Flooded Living Rooms & Basements", description: "Water extraction before it seeps into walls, flooring, and insulation.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-wrench", title: "Burst Pipes or Plumbing Failures", description: "Rapid mitigation to stop spreading leaks.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-cloud-rain", title: "Storm or Hurricane Flooding", description: "High-capacity pumps handle heavy stormwater intrusion.", image: "/images/waterDamage.jpg" },
        { icon: "fas fa-building", title: "Commercial Water Emergencies", description: "Fast removal to minimize downtime and inventory loss.", image: "/images/waterDamage.jpg" }
      ],
      faqs: [
        { q: "Can water be removed immediately after a flood?", a: "Yes. With industrial pumps, most water is extracted within hours. Acting quickly prevents mold and structural damage." },
        { q: "What happens if water isn't removed right away?", a: "It seeps into drywall, flooring, insulation—leading to mold, odor, and weakened structures." },
        { q: "Is emergency water removal different from drying?", a: "Yes. Removal extracts large volumes fast; drying stabilizes hidden moisture after." },
        { q: "Do you handle commercial water emergencies?", a: "Absolutely. We service offices, warehouses, and retail spaces with minimal downtime." }
      ],
      steps: [
        { title: "Inspection & Safety Check", text: "Identify hazards, source of water", icon: "fas fa-hard-hat" },
        { title: "Water Extraction", text: "Industrial pumps + vacuums remove standing water", icon: "fas fa-tint" },
        { title: "Drying & Dehumidification", text: "Air movers + dehumidifiers stabilize humidity", icon: "fas fa-wind" },
        { title: "Antimicrobial Treatment", text: "Stop mold & bacteria growth", icon: "fas fa-spray-can" },
        { title: "Damage Assessment & Restoration Plan", text: "Full documentation for insurance", icon: "fas fa-clipboard-list" }
      ]
    }
  };

  return waterContent[subSlug] || waterContent["flood-damage"];
};

const content = getWaterContent(sub.slug);
const faqCategory = `water-${sub.slug}`;
---

<!-- Hero Section -->
<section class="hero-section" style={`background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url(${content.hero.bgImage})`}>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>{content.hero.title}</h1>
    <p>{content.hero.description}</p>
    <a href="/contact" class="cta-button">{content.hero.cta} →</a>
  </div>
</section>

<!-- Services Grid -->
<section>
  <div class="services-grid">
    {content.services.map((service) => (
      <div class="service-item-static">
        <i class={service.icon}></i>
        <h3>{service.title}</h3>
      </div>
    ))}
  </div>
</section>

<!-- Solutions Cards -->
<section class="solutions-section">
  <div class="container">
  <h2 class="solutions-title">Comprehensive Water Damage Solutions</h2>
  <div class="solutions-grid">
    {content.services.map((service, index) => (
      <div class="solution-card">
        <div class="card-image">
          <img src="/images/waterDamage.jpg" alt={`Professional ${service.title.toLowerCase()} restoration services in Florida - 24/7 emergency response`} loading="lazy" />
        </div>
        <div class="card-content">
          <h3>{service.title}</h3>
          <div class="service-description">
            <p>{service.description}</p>
            <div class="service-features">
              <span class="feature-tag">🚨 24/7 Response</span>
              <span class="feature-tag">💧 Advanced Equipment</span>
              <span class="feature-tag">🛡️ Mold Prevention</span>
            </div>
          </div>
          <a href="/contact" class="btn">Get Emergency Water Help →</a>
        </div>
      </div>
    ))}
  </div>
  </div>
</section>

<!-- Process Steps -->
<section class="steps-section">
  <h2 class="steps-title">How It Works</h2>
  <div class="steps-container">
    {content.steps.map((step, index) => (
      <div class="step-item" data-step={index + 1}>
        <div class="step-icon">
          <i class={step.icon}></i>
        </div>
        <h3>{step.title}</h3>
        <p>{step.text}</p>
      </div>
    ))}
  </div>
</section>

<!-- Regional Coverage Section -->
<section class="restoration-coverage-section">
  <div class="container">
    <div class="coverage-header">
      <h2>Emergency Water Damage Services Across Florida</h2>
      <p>Fast response in major Florida cities</p>
    </div>

    <div class="restoration-regions-grid">
      <div class="region-column">
        <h3 class="region-title">Central Florida</h3>
        <div class="city-links">
          <a href="/restoration/water-damage/flood-damage/orlando">Water Damage Orlando</a>
          <a href="/restoration/water-damage/flood-damage/kissimmee">Water Damage Kissimmee</a>
          <a href="/restoration/water-damage/flood-damage/lakeland">Water Damage Lakeland</a>
          <a href="/restoration/water-damage/flood-damage/winter-garden">Water Damage Winter Garden</a>
        </div>
      </div>

      <div class="region-column">
        <h3 class="region-title">Tampa Bay Region</h3>
        <div class="city-links">
          <a href="/restoration/water-damage/flood-damage/tampa">Water Damage Tampa</a>
          <a href="/restoration/water-damage/flood-damage/st-petersburg">Water Damage St. Petersburg</a>
          <a href="/restoration/water-damage/flood-damage/clearwater">Water Damage Clearwater</a>
          <a href="/restoration/water-damage/flood-damage/sarasota">Water Damage Sarasota</a>
        </div>
      </div>

      <div class="region-column">
        <h3 class="region-title">South Florida</h3>
        <div class="city-links">
          <a href="/restoration/water-damage/flood-damage/miami">Water Damage Miami</a>
          <a href="/restoration/water-damage/flood-damage/fort-lauderdale">Water Damage Fort Lauderdale</a>
          <a href="/restoration/water-damage/flood-damage/hollywood">Water Damage Hollywood</a>
          <a href="/restoration/water-damage/flood-damage/coral-gables">Water Damage Coral Gables</a>
        </div>
      </div>

      <div class="region-column">
        <h3 class="region-title">Southwest Florida</h3>
        <div class="city-links">
          <a href="/restoration/water-damage/flood-damage/naples">Water Damage Naples</a>
          <a href="/restoration/water-damage/flood-damage/cape-coral">Water Damage Cape Coral</a>
          <a href="/restoration/water-damage/flood-damage/fort-myers">Water Damage Fort Myers</a>
          <a href="/restoration/water-damage/flood-damage/bonita-springs">Water Damage Bonita Springs</a>
        </div>
      </div>

      <div class="region-column">
        <h3 class="region-title">Treasure Coast</h3>
        <div class="city-links">
          <a href="/restoration/water-damage/flood-damage/port-st-lucie">Water Damage Port St. Lucie</a>
          <a href="/restoration/water-damage/flood-damage/stuart">Water Damage Stuart</a>
          <a href="/restoration/water-damage/flood-damage/vero-beach">Water Damage Vero Beach</a>
          <a href="/restoration/water-damage/flood-damage/jupiter">Water Damage Jupiter</a>
        <a href="/contact" class="btn">Get Emergency Water Help →</a>
      </div>
    </div>

    <div class="emergency-footer">
      <p>Need immediate help? <a href="tel:+17866022217" class="emergency-phone">Call (786) 602-2217</a></p>
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section>
  <FAQ client:load category={faqCategory} customQuestions={content.faqs.map((faq, index) => ({
    id: `${faqCategory}-${index}`,
    question: faq.q,
    answer: faq.a
  }))} title="Frequently Asked Questions" />
</section>

<!-- Final CTA -->
<RestorationCTA
  client:load
  title="Don't let water damage linger."
  subtitle="Schedule your free assessment now—restoration starts immediately."
  buttonText="Free Water Damage Assessment"
  buttonLink="/contact"
/>