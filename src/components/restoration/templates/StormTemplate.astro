---
import "../../../styles/pages/storm-damage.css";
import "@fortawesome/fontawesome-free/css/all.min.css";
import FAQ from "../../AcordeonServices";
import RestorationCTA from "../../RestorationCTA";
import "../../../styles/global.css";

const { group, sub } = Astro.props;

// Contenido específico para storm damage basado en el subservicio
const getStormContent = (subSlug) => {
  const stormContent = {
    "storm-damage": {
      hero: {
        title: "Storm Damage Restoration Services in Florida",
        description: "Our Florida storm restoration teams provide 24/7 emergency response for roof damage, flooding, and debris removal. From temporary tarps to full repairs, we restore homes and businesses quickly and safely.",
        cta: "Repair Storm Damage Today"
      },
      services: [
        { icon: "fas fa-home", title: "Hurricane Damage", description: "Immediate response to wind and water damage after hurricanes, including board-ups, tarping, and emergency repairs." },
        { icon: "fas fa-hammer", title: "Roof Damage", description: "Repair or replace damaged shingles, flashing, and underlayment caused by high winds, hail, or falling debris." },
        { icon: "fas fa-tint", title: "Flood & Water Intrusion", description: "Extraction and drying of water intrusion caused by heavy rains or storm surges to prevent mold and structural damage." },
        { icon: "fas fa-tree", title: "Debris Removal", description: "Safe cleanup of fallen trees, branches, and structural debris blocking driveways or damaging property." }
      ],
      faqs: [
        { q: "What does storm damage mean?", a: "Storm damage refers to harm caused by hurricanes, wind, hail, or flooding—often impacting roofs, siding, windows, and interiors. Immediate repairs help prevent further water intrusion and mold." },
        { q: "How to fix storm damage?", a: "Fixing storm damage starts with securing the property—tarping roofs, boarding windows, and removing debris. Professional restoration teams then repair structural damage and restore the property safely." },
        { q: "What is the most common storm damage?", a: "Roof damage is the most common, including missing shingles, leaks, and broken flashing. Other frequent issues are water intrusion, downed trees, and exterior siding damage." },
        { q: "How to recover from hurricane damage?", a: "Recovery involves emergency response, debris removal, water extraction, and roof repair. Restoration professionals coordinate with insurance adjusters to speed up the rebuilding process." }
      ],
      steps: [
        { title: "Emergency Response", text: "Tarping, boarding, and securing property after storm impact", icon: "fas fa-shield-alt" },
        { title: "Damage Assessment", text: "Roofs, interiors, and structural inspections", icon: "fas fa-search" },
        { title: "Cleanup & Water Extraction", text: "Remove debris, water, and damaged materials", icon: "fas fa-broom" },
        { title: "Repairs & Restoration", text: "Roof replacement, structural repairs, and finish restoration", icon: "fas fa-hammer" }
      ]
    },
    "hurricane-damage": {
      hero: {
        title: "Hurricane Damage? We Restore Homes & Businesses Across Florida",
        description: "From roof leaks to major flooding, our hurricane restoration team provides emergency cleanup, debris removal, and full structural repairs. Available 24/7 across Florida.",
        cta: "Restore After Hurricane Now"
      },
      services: [
        { icon: "fas fa-home", title: "Roof Leaks & Collapse Risks", description: "Wind and flying debris cause hidden roof damage." },
        { icon: "fas fa-tint", title: "Flooding & Water Intrusion", description: "Standing water weakens foundations & walls." },
        { icon: "fas fa-tree", title: "Fallen Trees & Debris", description: "Storm-force winds scatter debris across property." },
        { icon: "fas fa-bolt", title: "Power & Utility Hazards", description: "Downed lines and outages create safety risks." }
      ],
      faqs: [
        { q: "What does storm damage mean?", a: "Storm damage refers to harm caused by hurricanes, wind, hail, or flooding—often impacting roofs, siding, windows, and interiors. Immediate repairs help prevent further water intrusion and mold." },
        { q: "How to fix storm damage?", a: "Fixing storm damage starts with securing the property—tarping roofs, boarding windows, and removing debris. Professional restoration teams then repair structural damage and restore the property safely." },
        { q: "What is the most common storm damage?", a: "Roof damage is the most common, including missing shingles, leaks, and broken flashing. Other frequent issues are water intrusion, downed trees, and exterior siding damage." },
        { q: "How to recover from hurricane damage?", a: "Recovery involves emergency response, debris removal, water extraction, and roof repair. Restoration professionals coordinate with insurance adjusters to speed up the rebuilding process." }
      ],
      steps: [
        { title: "Emergency Board-Up & Roof Tarping", text: "Protect interiors from wind & rain", icon: "fas fa-shield-alt" },
        { title: "Water Extraction & Drying", text: "Industrial pumps, dehumidifiers, air movers", icon: "fas fa-tint" },
        { title: "Debris & Tree Removal", text: "Clear fallen trees and hazardous debris", icon: "fas fa-tree" },
        { title: "Structural Repair & Roofing", text: "Rebuild roofs, siding, drywall & interiors", icon: "fas fa-hammer" },
        { title: "Insurance Claim Support", text: "Documentation & direct adjuster communication", icon: "fas fa-file-invoice" }
      ]
    },
    "wind-damage": {
      hero: {
        title: "Wind Damage? We Repair Roofs, Siding & Structures Across Florida",
        description: "Strong winds can tear shingles, break windows, and damage property. Our 24/7 emergency response team restores safety and structure fast.",
        cta: "Request Wind Damage Repair Now"
      },
      services: [
        { icon: "fas fa-home", title: "Roof Shingle Loss", description: "Exposed underlayment leads to leaks." },
        { icon: "fas fa-window-maximize", title: "Broken Windows & Glass", description: "Flying debris causes breakage and safety risks." },
        { icon: "fas fa-tree", title: "Fallen Branches & Debris", description: "Impacts puncture roofs and siding." },
        { icon: "fas fa-home", title: "Siding & Gutter Damage", description: "High winds loosen or rip away exterior materials." }
      ],
      faqs: [
        { q: "What is wind damage restoration?", a: "It's the process of repairing roofs, siding, windows, and interiors after wind-related destruction." },
        { q: "How do you know if your roof has wind damage?", a: "Look for missing shingles, leaks, or visible debris impacts." },
        { q: "Does insurance cover wind damage in Florida?", a: "Yes—most policies include windstorm coverage. We assist with claim documentation." },
        { q: "Can you repair broken windows after wind damage?", a: "Absolutely—we provide emergency board-up and window replacement." }
      ],
      steps: [
        { title: "Emergency Tarping & Board-Up", text: "Prevent rain and debris from entering", icon: "fas fa-shield-alt" },
        { title: "Roof & Siding Repair", text: "Replace missing shingles, siding, or panels", icon: "fas fa-hammer" },
        { title: "Debris & Hazard Removal", text: "Clear fallen branches and dangerous objects", icon: "fas fa-tree" },
        { title: "Structural & Interior Repairs", text: "Restore walls, ceilings, and insulation", icon: "fas fa-tools" }
      ]
    },
    "storm-debris-removal": {
      hero: {
        title: "Safe and fast cleanup of fallen trees, branches, and storm debris.",
        description: "Fast storm debris removal in Florida. Safe cleanup of fallen trees, branches, siding & roofing debris. 24/7 emergency crews with heavy equipment.",
        cta: "Request Debris Cleanup Now"
      },
      services: [
        { icon: "fas fa-tree", title: "Tree & Branch Removal", description: "Cut, clear, and haul away fallen trees." },
        { icon: "fas fa-cube", title: "Debris Collection", description: "Remove scattered siding, shingles, and rubble." },
        { icon: "fas fa-truck", title: "Safe Disposal", description: "Transport debris for eco-friendly disposal." },
        { icon: "fas fa-tools", title: "Site Restoration", description: "Prepare property for repair and safe use." }
      ],
      faqs: [
        { q: "What is storm debris removal?", a: "It's the process of clearing and safely disposing of trees, branches, and construction debris left after a storm." },
        { q: "Can you remove large fallen trees?", a: "Yes. Our crews use heavy equipment to cut and haul away even the largest trees." },
        { q: "Do you also haul away construction debris after storms?", a: "Absolutely. We clear siding, roofing, drywall, and other structural debris." },
        { q: "Is storm debris removal covered by insurance?", a: "In most cases, yes. We document everything for smooth claim approval." }
      ],
      steps: [
        { title: "Tree & Branch Removal", text: "Cut, clear, and haul away fallen trees", icon: "fas fa-tree" },
        { title: "Debris Collection", text: "Remove scattered siding, shingles, and rubble", icon: "fas fa-cube" },
        { title: "Safe Disposal", text: "Transport debris for eco-friendly disposal", icon: "fas fa-truck" },
        { title: "Site Restoration", text: "Prepare property for repair and safe use", icon: "fas fa-tools" }
      ]
    },
    "emergency-storm-repair": {
      hero: {
        title: "Florida Storm Damage? Get Emergency Repairs 24/7",
        description: "When storms strike, every minute matters. Our emergency crews secure, repair, and restore homes and businesses across Central, Tampa Bay & South Florida.",
        cta: "Request Emergency Storm Repair"
      },
      services: [
        { icon: "fas fa-home", title: "Immediate Roof Tarping & Board-Up", description: "Protect from rain, wind & further damage." },
        { icon: "fas fa-tint", title: "Water Extraction & Drying", description: "Industrial pumps & dehumidifiers stop mold and structural weakening." },
        { icon: "fas fa-tree", title: "Debris & Hazard Cleanup", description: "Safe removal of fallen trees, branches, and shattered materials." },
        { icon: "fas fa-hammer", title: "Structural & Interior Repairs", description: "Restore roofing, walls, insulation & finishes." }
      ],
      faqs: [
        { q: "What is emergency storm repair?", a: "It's immediate action after severe storm damage to secure, stabilize, and begin property restoration." },
        { q: "How fast can storm repair teams respond?", a: "Our teams mobilize within hours, available 24/7 across Florida." },
        { q: "Does insurance cover emergency storm repairs?", a: "Yes, most policies cover emergency tarping, water removal, and repairs after a storm." },
        { q: "What should I do while waiting for emergency storm repair?", a: "Stay safe, avoid hazards like live wires, and document damages for your insurance claim." }
      ],
      steps: [
        { title: "Immediate Roof Tarping & Board-Up", text: "Protect from rain, wind & further damage", icon: "fas fa-home" },
        { title: "Water Extraction & Drying", text: "Industrial pumps & dehumidifiers stop mold and structural weakening", icon: "fas fa-tint" },
        { title: "Debris & Hazard Cleanup", text: "Safe removal of fallen trees, branches, and shattered materials", icon: "fas fa-tree" },
        { title: "Structural & Interior Repairs", text: "Restore roofing, walls, insulation & finishes", icon: "fas fa-hammer" }
      ]
    }
  };

  return stormContent[subSlug] || stormContent["hurricane-damage"];
};

const content = getStormContent(sub.slug);
const faqCategory = `storm-${sub.slug}`;
---

<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>{content.hero.title}</h1>
    <p>{content.hero.description}</p>
    <a href="/contact" class="cta-button">{content.hero.cta} →</a>
  </div>
</section>

<!-- Services Grid -->
<section>
  <div class="services-grid">
    {content.services.map((service) => (
      <div class="service-item">
        <i class={service.icon}></i>
        <h3>{service.title}</h3>
      </div>
    ))}
  </div>
</section>

<!-- Solutions Cards -->
<section class="solutions-section">
  <h2 class="solutions-title">Comprehensive Storm Damage Solutions</h2>
  <div class="solutions-grid">
    {content.services.map((service, index) => (
      <div class="solution-card">
        <div class="card-image">
          <img src="/images/stormDamage.jpg" alt={service.title} />
        </div>
        <div class="card-content">
          <h3>{service.title}</h3>
          <p>{service.description}</p>
          <a href="/contact" class="btn">Get Help Now</a>
        </div>
      </div>
    ))}
  </div>
</section>

<!-- Process Steps -->
<section class="steps-section">
  <h2 class="steps-title">How It Works</h2>
  <div class="steps-container">
    {content.steps.map((step, index) => (
      <div class="step-item" data-step={index + 1}>
        <div class="step-icon">
          <i class={step.icon}></i>
        </div>
        <h3>{step.title}</h3>
        <p>{step.text}</p>
      </div>
    ))}
  </div>
</section>

<!-- FAQ Section -->
<section>
  <FAQ client:load category={faqCategory} customQuestions={content.faqs.map((faq, index) => ({
    id: `${faqCategory}-${index}`,
    question: faq.q,
    answer: faq.a
  }))} title="Frequently Asked Questions" />
</section>

<!-- Final CTA -->
<RestorationCTA
  client:load
  title="Don't wait after a storm—protect your home now."
  subtitle="Call today for 24/7 emergency storm damage restoration in Florida."
  buttonText="Repair Storm Damage Today"
  buttonLink="/contact"
/>